
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>curl 简单作弊条 - Ocean's Blog</title>
	<meta name="author" content="Ocean">

	
	<meta name="description" content="原文出处：http://liluo.org/2011/05/curl-%E7%AE%80%E5%8D%95%E4%BD%9C%E5%BC%8A%E6%9D%A1/ 1  curl是什么？
curl 是一款命令行多协议支持的服务器访问工具,可以用它来访问HTTP服务器，就像浏览器一样。当然了， &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="Ocean's Blog" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">Ocean's Blog</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">主页</a></li>
	<li><a href="/blog/archives">存档</a></li>
	<li><a href="/blog/categories">分类</a></li>
	<li><a href="/blog/about">关于</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">主页</a></li>
	<li><a href="/blog/archives">存档</a></li>
	<li><a href="/blog/categories">分类</a></li>
	<li><a href="/blog/about">关于</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:blog.nwy.me">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:blog.nwy.me">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner"><article class="post">
	<h2 class="title">Curl 简单作弊条</h2>
	<div class="entry-content"><div id="content">
<div class="entry">
<h5>原文出处：<a href="http://liluo.org/2011/05/curl-%E7%AE%80%E5%8D%95%E4%BD%9C%E5%BC%8A%E6%9D%A1/">http://liluo.org/2011/05/curl-%E7%AE%80%E5%8D%95%E4%BD%9C%E5%BC%8A%E6%9D%A1/</a>
</h5>
<h5>1  curl是什么？</h5>
curl 是一款命令行多协议支持的服务器访问工具,可以用它来访问HTTP服务器，就像浏览器一样。当然了，它也是可以通过FTP下载或上传文件，下次再说这块。
<h5>2 基本应用</h5>
<blockquote>curl http://www.douban.com</blockquote>
上面的命令会在屏幕上输出服务器的响应信息，需要headers信息加 -i/&#8211;include 参数，只需要headers信息可以使用 -I/&#8211;head。

重定向输出：
<blockquote>curl http://www.douban.com > response.html
curl http://www.douban.com | grep &#8216;douban.com&#8217;</blockquote>
如果使用管道，默认会有一个进程信息显示出来，可以使用 -s/&#8211;silent 来不显示它们：
<blockquote>curl -s http://www.douban.com | grep &#8216;douban.com&#8217;</blockquote>
如果想保存服务器返回的内容的话，除了使用 > 重定向到一个文件外，还可以使用 -o/&#8211;output 参数指定需要保存到的文件：
<blockquote>curl http://www.douban.com -o response.html</blockquote>
非文本文件也能这样保存：
<blockquote>curl http://img3.douban.com/pics/nav/lg_main_a7.png -o logo.png</blockquote>
原名保存使用 -O/&#8211;remote-name 选项：
<blockquote>curl http://img3.douban.com/pics/nav/lg_main_a7.png -O</blockquote>
不过豆瓣的图片有简单的防盗链，所以可能下载不成功 : ( 继续往下看
<h5>
<!--more-->3   发送数据</h5>
GET 方法的请求没什么特殊的，直接在 url 中放上数据就可以了：
<blockquote>curl http://www.douban.com/?name=luo
curl http://www.douban.com/?name=小落</blockquote>
POST 方法的话就需要使用 -d/&#8211;data 参数，只要有这个参数，即使值是空字符串，那么出去的就是 POST 方法的访问：
<blockquote>curl -d &#8216;name=luoluo&passwd=*****&#8217; http://www.douban.com</blockquote>
<h5>4   头部信息</h5>
先说最常构造的两个 User-Agent 和 Referer ，这两个分别使用 -A/&#8211;user-agent 和 -e/&#8211;referer 来指定：
<blockquote>curl -A Chrome http://www.douban.com
curl -e http://liluo.org http://www.douban.com</blockquote>
包含这两个头部信息，所有的头部信息参数都可以使用 -H/&#8211;header 来设置：
<blockquote>curl -H Referer:http://liluo.org http://www.douban.com
curl -H User-Agent:Chrome -H Accept-Language:zh-cn http://www.douban.com</blockquote>
<h5>5   COOKIE控制</h5>
curl 是可以支持带 cookie 的交互行为的。使用方式是 -D/&#8211;dump-header 用于指定一个文件保存获取到的 cookie 信息（实际上包含了整个头部信息）， 然后用 -b/&#8211;cookie 指定一文件用于读取保存的 cookie 。
<blockquote>curl http://www.douban.com -D cookie.txt
curl http://www.douban.com -b cookie.txx</blockquote>
-D 保存出来的头部信息就是以纯文本形式存放的，所以，你可以方便地随便修改。
<h5>6   代理和通配符</h5>
6.1   代理设置

使用 -x/&#8211;proxy 参数：
<blockquote>curl -x http://web.proxy.url http://www.douban.com</blockquote>
6.2   通配符
<blockquote>curl -O http://www.douban.com/~liluo/screen[1-10].jpg
curl -O http://www.douban.com/~{liluo,luoluo}/[001-201].jpg</blockquote>
反向引用分组：
<blockquote>curl -o #2_#1.jpg http://www.douban.com/~{liluo,luo}/[001-201].jpg</blockquote>
</div>
</div>

</div>


<div class="meta">
	<div class="date">








  


<time datetime="2011-06-22T00:00:00+08:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2011</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>


</div>
	
	<div class="comments"><a href="#disqus_thread">Comments</a></div>
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
		
		
		
		
	</div>
	
</div>



<section id="comment">
    <h2 class="title">Comments</h2>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2013

    Ocean

<div style="display:none"> <script language="javascript" type="text/javascript" src="http://js.users.51.la/4388679.js"></script>
<noscript><a href="http://www.51.la/?4388679" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="http://img.users.51.la/4388679.asp" style="border:none" /></a></noscript> </div></footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'oceanblog';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.nwy.me/blog/2011/06/22/simple-cheat-curl-bar/';
        var disqus_url = 'http://blog.nwy.me/blog/2011/06/22/simple-cheat-curl-bar/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





</body>
</html>